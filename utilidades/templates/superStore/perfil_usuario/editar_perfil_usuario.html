{% extends "base.html" %}

{% block clave %}

{% endblock %}

{% block contenido %}
<div class="container">
    <center><h1>{{ Usuario.username}}</h1></center>
    {# cargando la imagen de media#}
    <div class="row">
        <div class="col-xl-12 d-flex justify-content-center align-items-center ">
            <form class="needs-validation"  action="{% url 'tienda:editarUsuario' id_cliente %}" enctype="multipart/form-data" method="post" novalidate>
                {% csrf_token %}
                <div style="margin-right: 50px;" class="form-group">
                    <div class="form-row">
                        <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12">
                            <center><img id="fotoPerfil" width="200px" height="200px" src="{{ MEDIA_URL }}{{ cliente.foto_perfil }}" alt=""></center>
                        </div>
                    </div>
                    <div class="form-row" >
                        <div class="col-sm-12 col-md-12 col-lg-4 col-xl-4">
                            <label for="validationCustom01">Nombres</label>
                            <input id="validationCustom01" class="form-control" type="text" name="first_name" placeholder="Nombres" value="{{ Usuario.first_name }}" required>
                            <div class="valid-feedback">
                                es correcto!
                            </div>
                            <div class="invalid-feedback">
                                No es correcto
                            </div>
                        </div>
                        <div class="col-sm-12 col-md-12 col-lg-4 col-xl-4">
                            <label for="validationCustom02">Apellidos</label>
                            <input id="validationCustom02" class="form-control" type="text" name="last_name" placeholder="Apellidos" value="{{ Usuario.last_name }}" required>
                            <div class="valid-feedback">
                                Es correcto!
                            </div>
                            <div class="invalid-feedback col-lg-4 col-xl-4">
                                No puede quedar en blanco!
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="col-sm-12 col-md-12 col-lg-4 col-xl-4">
                            <label for="validationCustom03">Correo</label>
                            <input id="validationCustom03" class="form-control" type="text" name="email" placeholder="Correo" value="{{ Usuario.email }}" required>
                            <div class="valid-feedback">
                                Es correcto!
                            </div>
                            <div class="invalid-feedback">
                                No puede quedar en blanco!
                            </div>
                        </div>
                        <div style="margin-left:5px; margin-top:30px;" class="col-sm-12 col-md-12 col-lg-4 col-xl-4">
                            <label class="custom-file-label" for="foto">Ingrese Una foto de perfil.</label>
                            <input class="form-control" type="file" accept="image/*"  name="foto_perfil" id="foto">
                            <div class="valid-feedback">
                                Si no ha agregado imagen se dejara la misma..
                            </div>
                        </div> 
                    </div>
                    <div  class="form-row">
                        <div style="margin-top:30px;" class="col-sm-12 col-md-12 col-lg-4 col-xl-4">
                            <select class="form-control custom-select" name="genero" required>
                                {% ifequal cliente.genero "M" %}
                                    <option value="M">Masculino</option>
                                    <option value="F">Femenino</option>
                                {% endifequal %}
                                {% ifequal cliente.genero "F" %}
                                    <option value="F">Femenino</option>
                                    <option value="M">Masculino</option>
                                {% endifequal %}
                            </select>
                            <div class="invalid-feedback">
                                Seleccione una opcion!
                            </div>
                        </div>
                        <div class="col-sm-12 col-md-12 col-lg-4 col-xl-4">
                            <label for="validationCustom04">Telefono</label>
                            <input id="validationCustom04" class="form-control" type="text" name="telefono" placeholder="Telefono" value="{{ cliente.telefono }}" placeholder="telefono" required>
                            <div class="valid-feedback">
                                Es Correcto!
                            </div>
                            <div class="invalid-feedback">
                                Agrege su numero de telefono!
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="col-sm-12 col-md-12 col-lg-4 col-xl-4">
                            <label for="validToolTip05">Fecha de nacimiento</label>
                            <input id="validToolTip05" class="form-control" min="1930-01-01" max="2090-01-01" type="date" name="fecha_nacimiento" value="{{ cliente.fecha_nacimiento | date:"Y-m-d" }}" required>
                            <div class="valid-feedback">
                                Es correcto!
                            </div>
                            <div class="invalid-feedback">
                                Ingrese su fecha de nacimiento!
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12">
                            <div class="float-right">
                                <button class="btn btn-success" type="submit">Guardar</button>
                                <a class="btn btn-success" href="{% url 'tienda:index' %}">Inicio</a>
                            </div>
                        </div>
                    </div>

                </div>

            </form>
        </div>
    </div>
</div>

{% endblock %}

{% block script %}
    {% load static %}
    <script src="{% static "js/perfilApp.js" %}"></script>
    <script src= "{% static "js/appValidateFormBoot.js" %}"></script>
{% endblock %}